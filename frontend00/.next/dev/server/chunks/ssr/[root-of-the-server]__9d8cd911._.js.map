{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/project1/lib/api.ts"],"sourcesContent":["import axios from \"axios\"\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\n// Request interceptor to attach token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  },\n)\n\n// Response interceptor to handle 401 errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem(\"token\")\n      window.location.href = \"/login\"\n    }\n    return Promise.reject(error)\n  },\n)\n\nexport default api\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,4JAAK,CAAC,MAAM,CAAC;IACvB,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,sCAAsC;AACtC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,4CAA4C;AAC5C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/project1/lib/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport api from \"./api\"\n\ninterface User {\n  id: string\n  name: string\n  email: string\n  role: string\n}\n\ninterface AuthContextType {\n  user: User | null\n  loading: boolean\n  login: (email: string, password: string) => Promise<void>\n  register: (name: string, email: string, password: string) => Promise<void>\n  logout: () => void\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      // Verify token and get user data\n      api\n        .get(\"/auth/me\")\n        .then((res) => setUser(res.data))\n        .catch(() => {\n          localStorage.removeItem(\"token\")\n        })\n        .finally(() => setLoading(false))\n    } else {\n      setLoading(false)\n    }\n  }, [])\n\n  const login = async (email: string, password: string) => {\n    const response = await api.post(\"/auth/login\", { email, password })\n    const { token, user } = response.data\n    localStorage.setItem(\"token\", token)\n    setUser(user)\n  }\n\n  const register = async (name: string, email: string, password: string) => {\n    const response = await api.post(\"/auth/register\", { name, email, password })\n    const { token, user } = response.data\n    localStorage.setItem(\"token\", token)\n    setUser(user)\n  }\n\n  const logout = () => {\n    localStorage.removeItem(\"token\")\n    setUser(null)\n    window.location.href = \"/login\"\n  }\n\n  return <AuthContext.Provider value={{ user, loading, login, register, logout }}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAoBA,MAAM,4BAAc,IAAA,kOAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,IAAA,8NAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,iCAAiC;YACjC,iIAAG,CACA,GAAG,CAAC,YACJ,IAAI,CAAC,CAAC,MAAQ,QAAQ,IAAI,IAAI,GAC9B,KAAK,CAAC;gBACL,aAAa,UAAU,CAAC;YAC1B,GACC,OAAO,CAAC,IAAM,WAAW;QAC9B,OAAO;YACL,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAClC,MAAM,WAAW,MAAM,iIAAG,CAAC,IAAI,CAAC,eAAe;YAAE;YAAO;QAAS;QACjE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;QACrC,aAAa,OAAO,CAAC,SAAS;QAC9B,QAAQ;IACV;IAEA,MAAM,WAAW,OAAO,MAAc,OAAe;QACnD,MAAM,WAAW,MAAM,iIAAG,CAAC,IAAI,CAAC,kBAAkB;YAAE;YAAM;YAAO;QAAS;QAC1E,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;QACrC,aAAa,OAAO,CAAC,SAAS;QAC9B,QAAQ;IACV;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBAAO,0PAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAO;YAAU;QAAO;kBAAI;;;;;;AACnF;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,+NAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}